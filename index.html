<html lang="en-US">

<head>
    <script>
        var lista = [
            { name: 'eleonora', width: 73, top: 43, left: 70 }, 
            { name: 'mirco', width: 110, top: 105, left: 90 }, 
            { name: 'marcello', width: 100, top: 30, left: 150 }, 
            { name: 'sofia', width: 90, top: 68, left: 83 },           
            { name: 'edoardo', width: 100, top: 60, left: 165 },
            { name: 'erik', width: 100, top: 30, left: 100},             
            { name: 'mattia', width: 90, top: 65, left: 45 },
            { name: 'pietro', width: 70, top: 75, left: 108 },
            { name: 'gioele', width: 110, top: 30, left: 12 },
            { name: 'martina', width: 75, top: 92, left: 155 },
            { name: 'angelica', width: 110, top: 20, left: 67 },
            { name: 'annalisa', width: 100, top: 86, left: 25 }
        ];
    </script>

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Luna park delle emozioni</title>

    <link href='https://fonts.googleapis.com/css?family=Bangers' rel='stylesheet'>

    <div id='sfondo' style="position:relative; width: 860px; height: 664px;">
        <img src="immagini/lunadef.png"
           style="position:absolute; top:0; left:0; border:none;"
           alt="sfondo"/>

        <div style="position:absolute;top:5%;left:5%;">
            <a onClick= "pauseaudio();">
                <img src="immagini/refresh.png" 
                style="width:25px; border:none;"
                alt="refresh"/>
            </a>
        </div>

        <div id="nomeanimale" style="
           position:absolute;
           bottom: -35%; left:30%;
           width:860px;
           text-align: center;
           font-family: 'Bangers';
           font-size: 40px;
           color:ForestGreen">
        Clicca su un personaggio
        </div>
    </div>

    <script>
        function pauseaudio() {
            var sounds = document.getElementsByTagName('audio');
            for(i=0; i<sounds.length; i++) sounds[i].pause();
        };

        function animalecliccato(text) {
            console.log("cliccato " + text); 
            document.getElementById("nomeanimale").innerHTML = text;
            document.getElementById("audio-" + text).play()
        }

        function createanimale(animale){

            var div = document.createElement('div');
            div.id = animale.name;
            div.style.position = 'absolute';
            div.style.top = animale.top + "%";
            div.style.left = animale.left + "%";
               
            var a = document.createElement('a');
            a.href = "#";
            a.id = "fig-" + animale.name;
            a.onclick = function() {animalecliccato(animale.name)}
            
            var img = document.createElement('img');
            img.src="immagini/" + animale.name + ".png";
            img.style.width = animale.width + "px";
            img.style.border = "none";
            img.alt = animale.name;

            a.appendChild(img)
            div.appendChild(a)
            document.getElementById('sfondo').appendChild(div);

            var verso = document.createElement('audio');
            verso.id = "audio-" + animale.name; 
            verso.src = "audio/" + animale.name + ".mp3";
            document.body.appendChild(verso);
        }
        
        for (i=0; i<lista.length; i++){
            createanimale(lista[i]);
        }
    </script>
</head>

<body>
</body>

</html>